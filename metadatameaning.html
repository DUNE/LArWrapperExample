
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Metadata categories and samweb-&gt;metacat conversion &#8212; LArWrapperExample 0.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CollectionCreator" href="CollectionCreator.html" />
    <link rel="prev" title="Sam to Metacat Conversion guide" href="sam2metacat.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="CollectionCreator.html" title="CollectionCreator"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sam2metacat.html" title="Sam to Metacat Conversion guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">LArWrapperExample 0.2 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Metadata categories and samweb-&gt;metacat conversion</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="metadata-categories-and-samweb-metacat-conversion">
<h1>Metadata categories and samweb-&gt;metacat conversion<a class="headerlink" href="#metadata-categories-and-samweb-metacat-conversion" title="Permalink to this heading">¶</a></h1>
<p>Samweb and metacat turn out to need quite a lot of information to describe a file.</p>
<p>There is</p>
<ul class="simple">
<li><p>basic information about the file as a file - size, creation, creator, checksum</p></li>
<li><p>core information about the file  contents such as run_number, data tier, and trigger stream that are needed to define data samples.  Most of these are now in the core category in metacat.  If it is a core item, you probably should be filling it.</p></li>
<li><p>data that is useful to know - provenance (what was it created from, how, who did it)</p></li>
<li><p>additional information that may be specific to a given physics group or extra details on reconstruction/simulation parameters.</p></li>
</ul>
<p><a class="reference internal" href="template.html"><span class="doc">Template for minimal metadata for a file</span></a> shows a metacat and samweb example for a raw data file</p>
<p>Both sam and metacat put the more detailed information in objects with &lt;type&gt;.&lt;subtype&gt; format.  Metacat extends this to &lt;category&gt;.&lt;sub&gt;.&lt;sub …&gt;.&lt;name&gt;</p>
<div class="section" id="here-is-a-table-to-convert-fields">
<h2>Here is a table to convert fields<a class="headerlink" href="#here-is-a-table-to-convert-fields" title="Permalink to this heading">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">metacat equivalents for sam fields</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 30%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Metacat</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>Samweb</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Basics</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>fid</p></td>
<td><p>int</p></td>
<td><p>file_id</p></td>
</tr>
<tr class="row-even"><td><p>namespace</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>string</p></td>
<td><p>file_name</p></td>
</tr>
<tr class="row-even"><td><p>creator</p></td>
<td><p>string</p></td>
<td><p>user</p></td>
</tr>
<tr class="row-odd"><td><p>created_timestamp</p></td>
<td><p>timestamp</p></td>
<td><p>create_date</p></td>
</tr>
<tr class="row-even"><td><p>size</p></td>
<td><p>int</p></td>
<td><p>file_size</p></td>
</tr>
<tr class="row-odd"><td><p>checksums</p></td>
<td><p>dictionary</p></td>
<td><p>check_sum (dict)</p></td>
</tr>
<tr class="row-even"><td><p>retired</p></td>
<td><p>bool</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>retired_by</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>retired_timestamp</p></td>
<td><p>timestamp</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>updated_by</p></td>
<td><p>string</p></td>
<td><p>update_user</p></td>
</tr>
<tr class="row-even"><td><p>updated_timestamp</p></td>
<td><p>timestamp</p></td>
<td><p>update_date</p></td>
</tr>
<tr class="row-odd"><td><p>update_comment</p></td>
<td><p>blob</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Core attributes</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>core.application.version</p></td>
<td><p>string</p></td>
<td><p>app_family</p></td>
</tr>
<tr class="row-even"><td><p>core.application.family</p></td>
<td><p>string</p></td>
<td><p>app_version</p></td>
</tr>
<tr class="row-odd"><td><p>core.application.name</p></td>
<td><p>string</p></td>
<td><p>app_name</p></td>
</tr>
<tr class="row-even"><td><p>core.event_count</p></td>
<td><p>int</p></td>
<td><p>event_count</p></td>
</tr>
<tr class="row-odd"><td><p>core.first_event_number</p></td>
<td><p>int</p></td>
<td><p>first_event</p></td>
</tr>
<tr class="row-even"><td><p>core.last_event_number</p></td>
<td><p>int</p></td>
<td><p>last_event</p></td>
</tr>
<tr class="row-odd"><td><p>core.start_time</p></td>
<td><p>timestamp</p></td>
<td><p>start_time</p></td>
</tr>
<tr class="row-even"><td><p>core.end_time</p></td>
<td><p>timestamp</p></td>
<td><p>end_time</p></td>
</tr>
<tr class="row-odd"><td><p>core.file_content_status</p></td>
<td><p>string</p></td>
<td><p>content_status</p></td>
</tr>
<tr class="row-even"><td><p>core.data_stream</p></td>
<td><p>string</p></td>
<td><p>data_stream</p></td>
</tr>
<tr class="row-odd"><td><p>core.data_tier</p></td>
<td><p>string</p></td>
<td><p>data_tier</p></td>
</tr>
<tr class="row-even"><td><p>core.events</p></td>
<td><p>array</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>core.file_type</p></td>
<td><p>text</p></td>
<td><p>file_type</p></td>
</tr>
<tr class="row-even"><td><p>core.file_format</p></td>
<td><p>text</p></td>
<td><p>file_format</p></td>
</tr>
<tr class="row-odd"><td><p>core.run_type</p></td>
<td><p>text</p></td>
<td><p>run_type</p></td>
</tr>
<tr class="row-even"><td><p>core.runs</p></td>
<td><p>array</p></td>
<td><p>run_number (integer part)</p></td>
</tr>
<tr class="row-odd"><td><p>core.runs_subruns</p></td>
<td><p>array</p></td>
<td><p>run_number (part past the decimal point)</p></td>
</tr>
<tr class="row-even"><td><p>core.raw_timestamp</p></td>
<td><p>timestamp</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Retention/access keys</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>retention.status</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>retention.class</p></td>
<td><p>string</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Additional attributes</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>&lt;category&gt;.&lt;subcategory&gt;.&lt;name&gt; …</p></td>
<td><p>string,int, bool, ….</p></td>
<td><p>&lt;category&gt;.&lt;name&gt;</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="here-is-a-table-of-common-command-translations">
<h2>Here is a table of common command translations<a class="headerlink" href="#here-is-a-table-of-common-command-translations" title="Permalink to this heading">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">metacat equivalents for sam commands</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 40%" />
<col style="width: 40%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>metacat</p></th>
<th class="head"><p>samweb</p></th>
<th class="head"><p>comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>metacat query ‘files from dnamespace:dataset where  x=y’</p></td>
<td><p>samweb list-files ‘ x y ‘</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>??</p></td>
<td><p>samweb list-files –summary ‘x y’</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>metacat file show -m &lt;namespace&gt;:&lt;filename&gt;</p></td>
<td><p>samweb get-metadata &lt;filename&gt;</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>metacat query ‘files from dune:all with name=&lt;filename&gt;’</p></td>
<td></td>
<td><p>finds the namespace</p></td>
</tr>
</tbody>
</table>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Metadata categories and samweb-&gt;metacat conversion</a><ul>
<li><a class="reference internal" href="#here-is-a-table-to-convert-fields">Here is a table to convert fields</a></li>
<li><a class="reference internal" href="#here-is-a-table-of-common-command-translations">Here is a table of common command translations</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="sam2metacat.html"
                          title="previous chapter">Sam to Metacat Conversion guide</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="CollectionCreator.html"
                          title="next chapter">CollectionCreator</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/metadatameaning.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="CollectionCreator.html" title="CollectionCreator"
             >next</a> |</li>
        <li class="right" >
          <a href="sam2metacat.html" title="Sam to Metacat Conversion guide"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">LArWrapperExample 0.2 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Metadata categories and samweb-&gt;metacat conversion</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Fermi National Accelerator Laboratory.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>